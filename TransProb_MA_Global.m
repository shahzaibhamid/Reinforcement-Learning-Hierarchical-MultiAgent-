function T = TransProb_MA_Global()
n = 5; %number of agents
m = 2; %number of goals
p = 3; %number of areas (in broader sense)
T = zeros(2^n*2^m*3^p*p^n,28);
k = 1; %index
for a1 = 0:1
    for a2 = 0:1
        for a3 = 0:1
            for a4 = 0:1
                for a5 = 0:1
                    for g1 = 0:1
                        for g2 = 0:1
                            for c1 = 1:3
                                for c2 = 1:3
                                    for c3 = 1:3
                                        for c4 = 1:3
                                            for c5 = 1:3
                                                for b1 = 0:2
                                                    for b2 = 0:2
                                                        for b3 = 0:2
                                                            T(k,1:15) = ones(1,15);
                                                            if a1==1
                                                                T(k,16) = (c1==1)*(b1==2) + (c1==2)*(b2==2) + (c1==3)*(b3==2) + 0.5*(c1==1)*(b1==0) + 0.5*(c1==2)*(b2==0) + 0.5*(c1==3)*(b3==0);
                                                            else
                                                                T(k,16) = 0;
                                                            end
                                                            if a2==1
                                                                T(k,17) = (c2==1)*(b1==2) + (c2==2)*(b2==2) + (c2==3)*(b3==2) + 0.5*(c2==1)*(b1==0) + 0.5*(c2==2)*(b2==0) + 0.5*(c2==3)*(b3==0);
                                                            else
                                                                T(k,17) = 0;
                                                            end
                                                            if a3==1
                                                                T(k,18) = (c3==1)*(b1==2) + (c3==2)*(b2==2) + (c3==3)*(b3==2) + 0.5*(c3==1)*(b1==0) + 0.5*(c3==2)*(b2==0) + 0.5*(c3==3)*(b3==0);
                                                            else
                                                                T(k,18) = 0;
                                                            end
                                                            if a4==1
                                                                T(k,19) = (c4==1)*(b1==2) + (c4==2)*(b2==2) + (c4==3)*(b3==2) + 0.5*(c4==1)*(b1==0) + 0.5*(c4==2)*(b2==0) + 0.5*(c4==3)*(b3==0);
                                                            else
                                                                T(k,19) = 0;
                                                            end
                                                            if a5==1
                                                                T(k,20) = (c5==1)*(b1==2) + (c5==2)*(b2==2) + (c5==3)*(b3==2) + 0.5*(c5==1)*(b1==0) + 0.5*(c5==2)*(b2==0) + 0.5*(c5==3)*(b3==0);
                                                            else
                                                                T(k,20) = 0;
                                                            end
                                                            if g1==0
                                                                T(k,21) = ((c1==1)+(c2==1)+(c3==1)+(c4==1)+(c5==1))*0.2/5 + ((c1==2)+(c2==2)+(c3==2)+(c4==2)+(c5==2))*0.3/5 + ((c1==3)+(c2==3)+(c3==3)+(c4==3)+(c5==3))*0.5/5;
                                                            else
                                                                T(k,21) = 0;
                                                            end
                                                            if g2==0
                                                                T(k,22) = ((c1==1)+(c2==1)+(c3==1)+(c4==1)+(c5==1))*0.5/5 + ((c1==2)+(c2==2)+(c3==2)+(c4==2)+(c5==2))*0.3/5 + ((c1==3)+(c2==3)+(c3==3)+(c4==3)+(c5==3))*0.2/5;
                                                            else
                                                                T(k,22) = 0;
                                                            end
                                                            if b1==0
                                                                T(k,23) = ((c1==1)+(c2==1)+(c3==1)+(c4==1)+(c5==1))*0.5/5;
                                                                T(k,26) = ((c1==1)+(c2==1)+(c3==1)+(c4==1)+(c5==1))*0.5/5;
                                                            else
                                                                T(k,23) = 0;
                                                                T(k,26) = 0;
                                                            end
                                                            if b2==0
                                                                T(k,24) = ((c1==2)+(c2==2)+(c3==2)+(c4==2)+(c5==2))*0.5/5;
                                                                T(k,27) = ((c1==2)+(c2==2)+(c3==2)+(c4==2)+(c5==2))*0.5/5;
                                                            else
                                                                T(k,24) = 0;
                                                                T(k,27) = 0;
                                                            end
                                                            if b3==0
                                                                T(k,25) = ((c1==3)+(c2==3)+(c3==3)+(c4==3)+(c5==3))*0.5/5;
                                                                T(k,28) = ((c1==3)+(c2==3)+(c3==3)+(c4==3)+(c5==3))*0.5/5;
                                                            else
                                                                T(k,25) = 0;
                                                                T(k,28) = 0;
                                                            end
                                                            if sum(T(k,16:28))==0
                                                                alpha = 1;
                                                            else
                                                                alpha = sum(T(k,16:28));
                                                            end
                                                            T(k,16:28) = T(k,16:28)/alpha; % Normalization
                                                            k = k+1;
                                                        end
                                                    end
                                                end
                                            end
                                        end
                                    end
                                end
                            end
                        end
                    end
                end
            end
        end
    end
end
                                                           